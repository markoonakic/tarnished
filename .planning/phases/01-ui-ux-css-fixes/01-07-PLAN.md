---
phase: 01-ui-ux-css-fixes
plan: 07
type: execute
wave: 3
depends_on: ["06"]
files_modified:
  - frontend/src/components/RoundForm.tsx
  - frontend/src/components/ImportModal.tsx
  - frontend/src/components/CreateUserModal.tsx
  - frontend/src/pages/Settings.tsx
  - frontend/src/components/RoundCard.tsx
  - frontend/src/components/application/HistoryViewer.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Cancel buttons use bg-transparent by default with bg-bg2 hover"
    - "Danger/delete buttons use bg-transparent by default with bg-bg2 hover and red-bright text on hover"
  artifacts:
    - path: "frontend/src/components/RoundForm.tsx"
      provides: "Cancel button with bg-transparent default"
      min_lines: 1
    - path: "frontend/src/components/ImportModal.tsx"
      provides: "Cancel button with bg-transparent default"
      min_lines: 1
    - path: "frontend/src/components/CreateUserModal.tsx"
      provides: "Cancel button with bg-transparent default"
      min_lines: 1
    - path: "frontend/src/pages/Settings.tsx"
      provides: "Cancel buttons with bg-transparent default"
      min_lines: 2
    - path: "frontend/src/components/RoundCard.tsx"
      provides: "Delete buttons with bg-transparent default"
      min_lines: 2
    - path: "frontend/src/components/application/HistoryViewer.tsx"
      provides: "Delete button with bg-transparent default"
      min_lines: 1
  key_links:
    - from: "Cancel button pattern"
      to: "5-layer rule"
      via: "bg-transparent -> hover:bg-bg2"
      pattern: "bg-transparent.*hover:bg-bg2"
    - from: "Danger button pattern"
      to: "5-layer rule"
      via: "bg-transparent text-red -> hover:bg-bg2 hover:text-red-bright"
      pattern: "bg-transparent text-red.*hover:bg-bg2"
---

<objective>
Fix cancel and danger button defaults to use bg-transparent (not bg-bg1)

Purpose: User reported cancel buttons have bg by default (should be on hover following 5 bg rule). Cancel and danger buttons should use bg-transparent by default, with bg-bg2 background on hover. This aligns with the 5-layer rule where transparent is the base state.

Output: All cancel and danger buttons use bg-transparent text-fg1/text-red with hover:bg-bg2 hover:text-fg0/hover:text-red-bright
</objective>

<execution_context>
@/home/vscode/.claude/get-shit-done/workflows/execute-plan.md
@/home/vscode/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-ui-ux-css-fixes/01-UAT.md
@.planning/phases/01-ui-ux-css-fixes/01-04-SUMMARY.md
@frontend/DESIGN_GUIDELINES.md

# Gap Context
Gap 3 from UAT: "Cancel Buttons Have Non-Transparent Defaults"
- User reported: "when editing the interview rounds the cancel button has a bg by default (should be on hover following the 5 bg rule)"
- Root cause: Multiple cancel buttons use bg-bg1 by default instead of bg-transparent

Gap 12 from UAT: "All Components Follow 5-Color Layering (Comprehensive Audit)"
- RoundCard.tsx lines 301, 364: delete buttons use bg-bg1 instead of bg-transparent
- HistoryViewer.tsx line 137: delete button uses bg-bg1 instead of bg-transparent

Gap 9 from UAT: "Danger Buttons Should Use Context-Aware Hover"
- User clarification: "the bacground should always be transparent for every one of those by default and then use the 5 layer rule alyaws to determine the hover color of the background of it"

# Dependency Note
This is Wave 3 - depends on plan 01-06 (modal backgrounds). Must run after modal backgrounds are changed to bg-bg2, as this plan modifies the same modal files (ImportModal, CreateUserModal) and other files that may have been touched in earlier plans.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix cancel button defaults (bg-bg1 to bg-transparent)</name>
  <files>frontend/src/components/RoundForm.tsx, frontend/src/components/ImportModal.tsx, frontend/src/components/CreateUserModal.tsx, frontend/src/pages/Settings.tsx</files>
  <action>
    Change all cancel buttons from bg-bg1 to bg-transparent:

    RoundForm.tsx line 277:
    Change: className="px-4 py-2 bg-bg1 text-fg1 rounded hover:bg-bg2 disabled:opacity-50 transition-all duration-200 cursor-pointer"
    To: className="px-4 py-2 bg-transparent text-fg1 rounded hover:bg-bg2 hover:text-fg0 disabled:opacity-50 transition-all duration-200 cursor-pointer"

    ImportModal.tsx line 182:
    Change: className="flex-1 px-4 py-2 bg-transparent text-fg1 rounded hover:bg-bg2 hover:text-fg0 transition-all duration-200 cursor-pointer"
    To: className="flex-1 px-4 py-2 bg-transparent text-fg1 rounded hover:bg-bg2 hover:text-fg0 transition-all duration-200 cursor-pointer"
    (Already has bg-transparent, verify no bg-bg1 present)

    CreateUserModal.tsx line 113:
    Change: className="px-4 py-2 bg-bg1 text-fg1 rounded hover:bg-bg2 hover:text-fg0 disabled:opacity-50 transition-all duration-200 cursor-pointer"
    To: className="px-4 py-2 bg-transparent text-fg1 rounded hover:bg-bg2 hover:text-fg0 disabled:opacity-50 transition-all duration-200 cursor-pointer"

    Settings.tsx lines ~392 and ~497:
    Find any cancel buttons with bg-bg1 and change to bg-transparent
  </action>
  <verify>grep -n "bg-bg1.*text-fg1.*Cancel" frontend/src/components/RoundForm.tsx frontend/src/components/CreateUserModal.tsx frontend/src/pages/Settings.tsx returns no results (cancel buttons no longer use bg-bg1)</verify>
  <done>All cancel buttons use bg-transparent by default with hover:bg-bg2 hover:text-fg0</done>
</task>

<task type="auto">
  <name>Task 2: Fix danger/delete button defaults (bg-bg1 to bg-transparent)</name>
  <files>frontend/src/components/RoundCard.tsx, frontend/src/components/application/HistoryViewer.tsx</files>
  <action>
    Change all delete/danger buttons from bg-bg1 to bg-transparent while keeping the red color scheme:

    RoundCard.tsx line ~303 (media delete button):
    Change: className="px-3 py-1.5 bg-bg1 text-red rounded hover:bg-bg2 hover:text-red-bright transition-all duration-200 flex items-center gap-1.5 text-sm cursor-pointer"
    To: className="px-3 py-1.5 bg-transparent text-red rounded hover:bg-bg2 hover:text-red-bright transition-all duration-200 flex items-center gap-1.5 text-sm cursor-pointer"

    RoundCard.tsx line ~364 (transcript delete button):
    Change: className="px-3 py-1.5 bg-bg1 text-red rounded hover:bg-bg2 hover:text-red-bright disabled:opacity-50 transition-all duration-200 flex items-center gap-1.5 text-sm cursor-pointer"
    To: className="px-3 py-1.5 bg-transparent text-red rounded hover:bg-bg2 hover:text-red-bright disabled:opacity-50 transition-all duration-200 flex items-center gap-1.5 text-sm cursor-pointer"

    HistoryViewer.tsx line ~137:
    Change: className="px-3 py-1.5 bg-bg1 text-red text-xs rounded hover:bg-bg2 hover:text-red-bright transition-colors duration-200 flex items-center gap-1.5 cursor-pointer disabled:opacity-50 flex-shrink-0"
    To: className="px-3 py-1.5 bg-transparent text-red text-xs rounded hover:bg-bg2 hover:text-red-bright transition-colors duration-200 flex items-center gap-1.5 cursor-pointer disabled:opacity-50 flex-shrink-0"

    Pattern: bg-transparent text-red hover:bg-bg2 hover:text-red-bright
  </action>
  <verify>grep -n "bg-bg1.*text-red" frontend/src/components/RoundCard.tsx frontend/src/components/application/HistoryViewer.tsx returns no results (delete buttons no longer use bg-bg1)</verify>
  <done>All delete/danger buttons use bg-transparent by default with hover:bg-bg2 hover:text-red-bright</done>
</task>

</tasks>

<verification>
1. Run: grep -rn "bg-bg1.*text-fg1\|bg-bg1.*text-red" frontend/src/components frontend/src/pages --include="*.tsx" | grep -i "cancel\|delete" returns no results (cancel/delete buttons don't use bg-bg1)

2. Run: npm run build to ensure no TypeScript errors

3. Manual check: Click on cancel and delete buttons to verify transparent default state with proper hover effect
</verification>

<success_criteria>
1. All cancel buttons use bg-transparent by default
2. All delete/danger buttons use bg-transparent by default
3. All affected buttons have hover:bg-bg2 hover:text-* for proper hover state
4. Build passes without errors
5. No regression in button functionality
</success_criteria>

<output>
After completion, create `.planning/phases/01-ui-ux-css-fixes/01-07-SUMMARY.md`
</output>

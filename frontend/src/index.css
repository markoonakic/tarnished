@import "tailwindcss";

/* Font Faces - CommitMonoFunky */
@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-400-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-400-Italic.otf') format('opentype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-700-Regular.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-700-Italic.otf') format('opentype');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

/* Font Faces - Manrope */
@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@theme {
  /* Backgrounds */
  --color-bg0-hard: var(--bg0-hard);
  --color-bg0: var(--bg0);
  --color-bg0-soft: var(--bg0-soft);
  --color-bg1: var(--bg1);
  --color-bg2: var(--bg2);
  --color-bg3: var(--bg3);
  --color-bg4: var(--bg4);

  /* Foregrounds */
  --color-fg0: var(--fg0);
  --color-fg1: var(--fg1);
  --color-fg2: var(--fg2);
  --color-fg3: var(--fg3);
  --color-fg4: var(--fg4);
  --color-gray: var(--gray);

  /* Accent colors - darker */
  --color-red: var(--red);
  --color-green: var(--green);
  --color-yellow: var(--yellow);
  --color-blue: var(--blue);
  --color-purple: var(--purple);
  --color-aqua: var(--aqua);
  --color-orange: var(--orange);

  /* Accent colors - bright */
  --color-red-bright: var(--red-bright);
  --color-green-bright: var(--green-bright);
  --color-yellow-bright: var(--yellow-bright);
  --color-blue-bright: var(--blue-bright);
  --color-purple-bright: var(--purple-bright);
  --color-aqua-bright: var(--aqua-bright);
  --color-orange-bright: var(--orange-bright);
}

:root {
  /* Fluid typography - prevents tiny text on 4K/8K displays */
  font-size: clamp(100%, 0.9rem + 0.3vw, 112.5%);
  /* Min: 16px, Max: 18px */

  /* Font families */
  --font-display: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'CommitMonoFunky', 'Monaco', 'Menlo', monospace;

  /* Type scale (rem) */
  --font-h1: 2rem;        /* 32px at base */
  --font-h2: 1.5rem;      /* 24px */
  --font-h3: 1.25rem;     /* 20px */
  --font-base: 0.875rem;  /* 14px */
  --font-small: 0.75rem;  /* 12px */
  --font-tiny: 0.6875rem; /* 11px */

  /* Spacing system (all rem - scales with font) */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 0.75rem;   /* 12px */
  --spacing-lg: 1rem;      /* 16px */
  --spacing-xl: 1.5rem;    /* 24px */
  --spacing-2xl: 2rem;     /* 32px */

  /* Borders (px only - sub-pixel borders look broken) */
  --border-thin: 1px;
  --border-medium: 2px;

  /* Border radius */
  --border-radius-sm: 0.25rem;   /* 4px */
  --border-radius-md: 0.5rem;    /* 8px */
  --border-radius-lg: 0.75rem;   /* 12px */

  /* Transitions - consistent 0.2s ease throughout */
  --transition-fast: 0.2s ease;
  /* Applied to: hover states, color changes, background changes, border colors */

  /* Touch targets (accessibility) */
  --touch-target-min: 2.75rem; /* 44px minimum for mobile */

  /* Backgrounds */
  --bg0-hard: #1d2021;
  --bg0: #282828;
  --bg0-soft: #32302f;
  --bg1: #3c3836;
  --bg2: #504945;
  --bg3: #665c54;
  --bg4: #7c6f64;

  /* Foregrounds */
  --fg0: #fbf1c7;
  --fg1: #ebdbb2;
  --fg2: #d5c4a1;
  --fg3: #bdae93;
  --fg4: #a89984;
  --gray: #928374;

  /* Accent colors - darker (row 1) */
  --red: #cc241d;
  --green: #98971a;
  --yellow: #d79921;
  --blue: #458588;
  --purple: #b16286;
  --aqua: #689d6a;
  --orange: #d65d0e;

  /* Accent colors - bright (row 2) */
  --red-bright: #fb4934;
  --green-bright: #b8bb26;
  --yellow-bright: #fabd2f;
  --blue-bright: #83a598;
  --purple-bright: #d3869b;
  --aqua-bright: #8ec07c;
  --orange-bright: #fe8019;
}

[data-theme="gruvbox-light"] {
  --bg0: #fbf1c7;
  --bg1: #ebdbb2;
  --bg2: #d5c4a1;
  --bg3: #bdae93;
  --bg4: #a89984;
  --fg0: #282828;
  --fg1: #3c3836;
  --fg2: #504945;
  --fg3: #665c54;
  --fg4: #7c6f64;
  --gray: #928374;
  --red: #9d0006;
  --green: #79740e;
  --yellow: #b57614;
  --blue: #076678;
  --purple: #8f3f71;
  --aqua: #427b58;
  --orange: #af3a03;
  --red-bright: #cc241d;
  --green-bright: #98971a;
  --yellow-bright: #d79921;
  --blue-bright: #458588;
  --purple-bright: #b16286;
  --aqua-bright: #689d6a;
  --orange-bright: #d65d0e;
}

[data-theme="nord"] {
  --bg0: #2e3440;
  --bg1: #3b4252;
  --bg2: #434c5e;
  --bg3: #4c566a;
  --bg4: #4c566a;
  --fg0: #eceff4;
  --fg1: #eceff4;
  --fg2: #e5e9f0;
  --fg3: #d8dee9;
  --fg4: #d8dee9;
  --gray: #4c566a;
  --red: #bf616a;
  --green: #a3be8c;
  --yellow: #ebcb8b;
  --blue: #81a1c1;
  --purple: #b48ead;
  --aqua: #88c0d0;
  --orange: #d08770;
  --red-bright: #bf616a;
  --green-bright: #a3be8c;
  --yellow-bright: #ebcb8b;
  --blue-bright: #81a1c1;
  --purple-bright: #b48ead;
  --aqua-bright: #88c0d0;
  --orange-bright: #d08770;
}

[data-theme="dracula"] {
  --bg0: #282a36;
  --bg1: #44475a;
  --bg2: #6272a4;
  --bg3: #6272a4;
  --bg4: #6272a4;
  --fg0: #f8f8f2;
  --fg1: #f8f8f2;
  --fg2: #f8f8f2;
  --fg3: #f8f8f2;
  --fg4: #6272a4;
  --gray: #6272a4;
  --red: #ff5555;
  --green: #50fa7b;
  --yellow: #f1fa8c;
  --blue: #8be9fd;
  --purple: #bd93f9;
  --aqua: #8be9fd;
  --orange: #ffb86c;
  --red-bright: #ff5555;
  --green-bright: #50fa7b;
  --yellow-bright: #f1fa8c;
  --blue-bright: #8be9fd;
  --purple-bright: #bd93f9;
  --aqua-bright: #8be9fd;
  --orange-bright: #ffb86c;
}

/* Links - standardized pattern */
a {
  color: var(--fg1);
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover,
a:focus-visible {
  color: var(--aqua-bright);
}

a:focus-visible {
  outline: 2px solid var(--aqua-bright);
  outline-offset: 2px;
}

/* Content links (in page content, like company names, back links) */
.content-link,
main a:not(.btn):not(.nav-link) {
  color: var(--aqua-bright);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.content-link:hover,
main a:not(.btn):not(.nav-link):hover {
  color: var(--aqua-bright);
}

/* Navigation links (top nav, sidebar) */
.nav-link {
  color: var(--fg1);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.nav-link:hover,
.nav-link.active {
  color: var(--aqua-bright);
  /* No border - navigation area is visually distinct */
}

body {
  margin: 0;
  background-color: var(--bg0);
  color: var(--fg1);
  font-family: var(--font-mono);
  font-size: var(--font-base);
  line-height: 1.5;
}

/* Headings use display font */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 600;
}

h1 {
  font-size: var(--font-h1);
  line-height: 1.2;
}

h2 {
  font-size: var(--font-h2);
  line-height: 1.3;
}

h3 {
  font-size: var(--font-h3);
  line-height: 1.4;
}

/* Minimum touch target utility */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

/* Background utilities */
.bg-primary { background-color: var(--bg0); }
.bg-secondary { background-color: var(--bg1); }
.bg-tertiary { background-color: var(--bg2); }
.bg-accent-red { background-color: var(--red-bright); }
.bg-accent-green { background-color: var(--green-bright); }
.bg-accent-yellow { background-color: var(--yellow-bright); }
.bg-accent-blue { background-color: var(--blue-bright); }
.bg-accent-purple { background-color: var(--purple-bright); }
.bg-accent-aqua { background-color: var(--aqua-bright); }
.bg-accent-orange { background-color: var(--orange-bright); }

/* Text color utilities */
.text-primary { color: var(--fg1); }
.text-secondary { color: var(--fg4); }
.text-muted { color: var(--fg4); }
.text-bg-primary { color: var(--bg0); }
.text-accent-red { color: var(--red-bright); }
.text-accent-green { color: var(--green-bright); }
.text-accent-yellow { color: var(--yellow-bright); }
.text-accent-blue { color: var(--blue-bright); }
.text-accent-purple { color: var(--purple-bright); }
.text-accent-aqua { color: var(--aqua-bright); }
.text-accent-orange { color: var(--orange-bright); }

/* Border utilities */
.border-primary { border-color: var(--bg0); }
.border-secondary { border-color: var(--bg1); }
.border-tertiary { border-color: var(--bg2); }
.border-muted { border-color: var(--fg4); }
.border-accent-aqua { border-color: var(--aqua-bright); }

input[type="date"],
input[type="datetime-local"] {
  color-scheme: dark;
}

[data-theme="gruvbox-light"] input[type="date"],
[data-theme="gruvbox-light"] input[type="datetime-local"] {
  color-scheme: light;
}

/* Systematic text wrapping - prevents overflow everywhere */
body {
  overflow-wrap: break-word;
  hyphens: auto;
  word-break: normal;
}

/* Table-specific rules (critical for applications list) */
table {
  table-layout: fixed;
}

td, th {
  overflow-wrap: break-word;
  max-width: 0;
}

/* Progressive enhancement for modern browsers */
h1, h2, h3 {
  text-wrap: balance;
}

@supports (text-wrap: pretty) {
  p, li {
    text-wrap: pretty;
  }
}

table {
  table-layout: fixed;
}

td, th {
  white-space: normal;
  overflow-wrap: break-word;
  word-break: break-word;
  max-width: 0;
}

/* Spinner animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 0.8s linear infinite;
}

/* Focus indicators - visible and consistent */
:focus-visible {
  outline: 2px solid var(--aqua-bright);
  outline-offset: 2px;
}

/* Remove default focus for mouse users, keep for keyboard */
:focus:not(:focus-visible) {
  outline: none;
}

/* Button focus */
button:focus-visible {
  outline: 2px solid var(--aqua-bright);
  outline-offset: 2px;
}

/* Input focus (already has border change, but add outline for clarity) */
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--aqua-bright);
  outline-offset: -1px; /* Inside element */
}

/* Link focus */
a:focus-visible {
  outline: 2px solid var(--aqua-bright);
  outline-offset: 2px;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

@import "tailwindcss";

/* Font Faces - CommitMonoFunky */
@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-400-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-400-Italic.otf') format('opentype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-700-Regular.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CommitMonoFunky';
  src: url('/fonts/CommitMonoFunky-700-Italic.otf') format('opentype');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

/* Font Faces - Manrope */
@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Manrope';
  src: url('/fonts/Manrope-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@theme {
  --color-primary: var(--bg-primary);
  --color-secondary: var(--bg-secondary);
  --color-tertiary: var(--bg-tertiary);
  --color-muted: var(--text-secondary);
  --color-accent-red: var(--accent-red);
  --color-accent-green: var(--accent-green);
  --color-accent-yellow: var(--accent-yellow);
  --color-accent-blue: var(--accent-blue);
  --color-accent-purple: var(--accent-purple);
  --color-accent-aqua: var(--accent-aqua);
  --color-accent-orange: var(--accent-orange);
}

:root {
  /* Fluid typography - prevents tiny text on 4K/8K displays */
  font-size: clamp(100%, 0.9rem + 0.3vw, 112.5%);
  /* Min: 16px, Max: 18px */

  /* Font families */
  --font-display: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'CommitMonoFunky', 'Monaco', 'Menlo', monospace;

  /* Type scale (rem) */
  --font-h1: 2rem;        /* 32px at base */
  --font-h2: 1.5rem;      /* 24px */
  --font-h3: 1.25rem;     /* 20px */
  --font-base: 0.875rem;  /* 14px */
  --font-small: 0.75rem;  /* 12px */
  --font-tiny: 0.6875rem; /* 11px */

  /* Spacing system (all rem - scales with font) */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 0.75rem;   /* 12px */
  --spacing-lg: 1rem;      /* 16px */
  --spacing-xl: 1.5rem;    /* 24px */
  --spacing-2xl: 2rem;     /* 32px */

  /* Borders (px only - sub-pixel borders look broken) */
  --border-thin: 1px;
  --border-medium: 2px;

  /* Border radius */
  --border-radius-sm: 0.25rem;   /* 4px */
  --border-radius-md: 0.5rem;    /* 8px */
  --border-radius-lg: 0.75rem;   /* 12px */

  /* Transitions - consistent 0.2s ease throughout */
  --transition-fast: 0.2s ease;
  /* Applied to: hover states, color changes, background changes, border colors */

  /* Touch targets (accessibility) */
  --touch-target-min: 2.75rem; /* 44px minimum for mobile */

  /* RGB values for opacity calculations */
  --accent-red-rgb: 251, 73, 68; /* #fb4934 */
  --accent-aqua-rgb: 142, 192, 124; /* #8ec07c */

  --bg-primary: #282828;
  --bg-secondary: #3c3836;
  --bg-tertiary: #504945;
  --text-primary: #ebdbb2;
  --text-secondary: #a89984;
  --accent-red: #fb4934;
  --accent-green: #b8bb26;
  --accent-yellow: #fabd2f;
  --accent-blue: #83a598;
  --accent-purple: #d3869b;
  --accent-aqua: #8ec07c;
  --accent-orange: #fe8019;
}

[data-theme="gruvbox-light"] {
  --bg-primary: #fbf1c7;
  --bg-secondary: #ebdbb2;
  --bg-tertiary: #d5c4a1;
  --text-primary: #3c3836;
  --text-secondary: #665c54;
  --accent-red: #cc241d;
  --accent-green: #98971a;
  --accent-yellow: #d79921;
  --accent-blue: #458588;
  --accent-purple: #b16286;
  --accent-aqua: #689d6a;
  --accent-orange: #d65d0e;
}

[data-theme="nord"] {
  --bg-primary: #2e3440;
  --bg-secondary: #3b4252;
  --bg-tertiary: #434c5e;
  --text-primary: #eceff4;
  --text-secondary: #d8dee9;
  --accent-red: #bf616a;
  --accent-green: #a3be8c;
  --accent-yellow: #ebcb8b;
  --accent-blue: #81a1c1;
  --accent-purple: #b48ead;
  --accent-aqua: #88c0d0;
  --accent-orange: #d08770;
}

[data-theme="dracula"] {
  --bg-primary: #282a36;
  --bg-secondary: #44475a;
  --bg-tertiary: #6272a4;
  --text-primary: #f8f8f2;
  --text-secondary: #6272a4;
  --accent-red: #ff5555;
  --accent-green: #50fa7b;
  --accent-yellow: #f1fa8c;
  --accent-blue: #8be9fd;
  --accent-purple: #bd93f9;
  --accent-aqua: #8be9fd;
  --accent-orange: #ffb86c;
}

/* Links - standardized pattern */
a {
  color: var(--text-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover,
a:focus-visible {
  color: var(--accent-aqua);
}

a:focus-visible {
  outline: 2px solid var(--accent-aqua);
  outline-offset: 2px;
}

/* Content links (in page content, like company names, back links) */
.content-link,
main a:not(.btn):not(.nav-link) {
  color: var(--accent-aqua);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.content-link:hover,
main a:not(.btn):not(.nav-link):hover {
  color: var(--accent-aqua);
  text-decoration: underline;
}

/* Navigation links (top nav, sidebar) */
.nav-link {
  color: var(--text-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.nav-link:hover,
.nav-link.active {
  color: var(--accent-aqua);
  /* No border - navigation area is visually distinct */
}

body {
  margin: 0;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: var(--font-base);
  line-height: 1.5;
}

/* Headings use display font */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 600;
}

h1 {
  font-size: var(--font-h1);
  line-height: 1.2;
}

h2 {
  font-size: var(--font-h2);
  line-height: 1.3;
}

h3 {
  font-size: var(--font-h3);
  line-height: 1.4;
}

/* Minimum touch target utility */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

.bg-primary { background-color: var(--bg-primary); }
.bg-secondary { background-color: var(--bg-secondary); }
.bg-tertiary { background-color: var(--bg-tertiary); }
.bg-accent-red { background-color: var(--accent-red); }
.bg-accent-green { background-color: var(--accent-green); }
.bg-accent-yellow { background-color: var(--accent-yellow); }
.bg-accent-blue { background-color: var(--accent-blue); }
.bg-accent-purple { background-color: var(--accent-purple); }
.bg-accent-aqua { background-color: var(--accent-aqua); }
.bg-accent-orange { background-color: var(--accent-orange); }

.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-muted { color: var(--text-secondary); }
.text-bg-primary { color: var(--bg-primary); }
.text-accent-red { color: var(--accent-red); }
.text-accent-green { color: var(--accent-green); }
.text-accent-yellow { color: var(--accent-yellow); }
.text-accent-blue { color: var(--accent-blue); }
.text-accent-purple { color: var(--accent-purple); }
.text-accent-aqua { color: var(--accent-aqua); }
.text-accent-orange { color: var(--accent-orange); }

.border-primary { border-color: var(--bg-primary); }
.border-secondary { border-color: var(--bg-secondary); }
.border-tertiary { border-color: var(--bg-tertiary); }
.border-accent-aqua { border-color: var(--accent-aqua); }

input[type="date"],
input[type="datetime-local"] {
  color-scheme: dark;
}

[data-theme="gruvbox-light"] input[type="date"],
[data-theme="gruvbox-light"] input[type="datetime-local"] {
  color-scheme: light;
}

/* Systematic text wrapping - prevents overflow everywhere */
body {
  overflow-wrap: break-word;
  hyphens: auto;
  word-break: normal;
}

/* Table-specific rules (critical for applications list) */
table {
  table-layout: fixed;
}

td, th {
  overflow-wrap: break-word;
  max-width: 0;
}

/* Progressive enhancement for modern browsers */
h1, h2, h3 {
  text-wrap: balance;
}

@supports (text-wrap: pretty) {
  p, li {
    text-wrap: pretty;
  }
}

table {
  table-layout: fixed;
}

td, th {
  white-space: normal;
  overflow-wrap: break-word;
  word-break: break-word;
  max-width: 0;
}

/* Spinner animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 0.8s linear infinite;
}

/* Focus indicators - visible and consistent */
:focus-visible {
  outline: 2px solid var(--accent-aqua);
  outline-offset: 2px;
}

/* Remove default focus for mouse users, keep for keyboard */
:focus:not(:focus-visible) {
  outline: none;
}

/* Button focus */
button:focus-visible {
  outline: 2px solid var(--accent-aqua);
  outline-offset: 2px;
}

/* Input focus (already has border change, but add outline for clarity) */
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--accent-aqua);
  outline-offset: -1px; /* Inside element */
}

/* Link focus */
a:focus-visible {
  outline: 2px solid var(--accent-aqua);
  outline-offset: 2px;
  text-decoration: underline;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
